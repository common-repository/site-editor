(function( exports, $ ) {
    var api = sedApp.editor;

    $( function() {

        api.Events.bind("change_icon_sed_single_icon" , function(icon){
            api.fn.changeIcon( icon );
            api.contentBuilder.updateShortcodeAttr( "icon"  , icon.className);

        });

        api.preview.bind("load_icons_font" , function(style){
            $('<link rel="stylesheet" type="text/css" href="' + style + '">').appendTo( $("head") );
        });

        api.shortcodeUpdate.sed_single_icon = {
            font_size : function( id , value ){
                var currEl = $('[sed_model_id="' + id + '"]').find(".hi-icon"),
                    currMo = $('[sed_model_id="' + id + '"]');
                currEl.css("fontSize" , value + "px");
                currMo.css("fontSize" , value + "px");
                currEl.trigger( "sed.changeIconSize", [ value ] );
            },

            color : function( id , value ){
                var currEl = $('[sed_model_id="' + id + '"]').find(".hi-icon");
                currEl.css("color" , value);
            },

            /*icon : function( id , value ){
                var currEl = $("#" + id).find(".hi-icon");

                currEl.removeClass( currEl.attr("sed-icon") ).addClass(value);
                currEl.attr("sed-icon" , value);

                currEl.trigger( "sed.changeIconsSrc", [ value ] );
            }  */
        };


    });


}(sedApp, jQuery));