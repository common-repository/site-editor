(function( exports, $ ){
    
    var api = sedApp.editor;

    $( function() {

        api( 'sed_site_custom_css', function( value ) {
            value.bind( function( to ) {

                //sanitize string => remove html tags
                to = to.replace(/(<([^>]+)>)/ig,"");

                $("#sed_site_custom_css_code").html( to );

            });
        });

        var _setPbCss = function( width , padding ){

            var css = '.sed-row-boxed{';
            css += 'max-width       : ' + width + ' ;';
            css += 'margin-left     : auto ;';
            css += 'margin-right    : auto ;';
            css += 'padding-left    : ' + padding + ' ;';
            css += 'padding-right   : ' + padding + ' ;}'; 

            $("#sed_pb_customize_css").html( css );

        };

        api( 'sed_pb_rows_width', function( value ) {
            value.bind( function( to ) {

                var _padding = api( 'sed_pb_rows_padding' )();

                _setPbCss( to , _padding );

            });
        });

        api( 'sed_pb_rows_padding', function( value ) {
            value.bind( function( to ) {

                var _width = api( 'sed_pb_rows_width' )();

                _setPbCss( _width , to );

            });
        });

    });


})( sedApp, jQuery );